{"version":3,"sources":["store/data.js","store/actions/index.js","components/OrdersBasket/index.jsx","App.js","store/reducers/index.js","index.js"],"names":["data","title","price","ADD_ORDER","DELETE_ORDER","Alert","props","elevation","variant","OrdersBasket","orders","useSelector","state","dispatch","useDispatch","useEffect","localStorage","setItem","JSON","stringify","React","useState","open","setOpen","handleClick","setTimeout","style","styles","orderContainer","menuContainer","Button","onClick","MenuList","map","el","id","Tooltip","MenuItem","type","payload","cursor","basketContainer","length","count","sum","Skeleton","animation","Snackbar","autoHideDuration","severity","display","justifyContent","width","App","className","defaultState","parse","getItem","totalPrice","totalCount","store","createStore","action","is_chosen1","findIndex","item","arr1","is_chosen","arr","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a2c725f.chunk.js","sourcesContent":[" export const data = [\r\n    {title:'burger', price: 150},\r\n    { title: \"cola\", price: 80 },\r\n    { title: \"fries\", price: 150 },\r\n    { title: \"tea\", price: 50 },\r\n]","export  const ADD_ORDER = 'ADD_ORDER'\r\nexport const DELETE_ORDER = 'DELETE_ORDER'\r\n\r\n\r\n//    1- вариант\r\n// export const add_order = () => {\r\n//     return {\r\n//         type: ADD_ORDER\r\n//     }\r\n// }\r\n\r\nexport const add_order = (item) => ({\r\n        type: ADD_ORDER,\r\n        payload: item\r\n})\r\n\r\nexport const delete_order = (item) => ({\r\n        type: DELETE_ORDER,\r\n        payload: item\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { data } from '../../store/data'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { add_order, delete_order } from '../../store/actions'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n// alert\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport const OrdersBasket = () => {\r\n\r\n    const orders = useSelector(state => state.orders)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('orders', JSON.stringify(orders))\r\n    },[orders])\r\n\r\n    // alert\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n\r\n    const handleClick = () => {\r\n        setOpen(true);\r\n        setTimeout(() => {\r\n            setOpen(!true);   \r\n        }, 1000)\r\n    };\r\n\r\n    \r\n\r\n    return <div style={styles.orderContainer}>\r\n        <div style={styles.menuContainer}>\r\n            <Button variant=\"outlined\" onClick={handleClick}>\r\n                Open success snackbar\r\n      </Button>\r\n            <h1>Menu</h1>\r\n            <MenuList>\r\n                {\r\n                    data.map((el, id) => {\r\n                        return <Tooltip title=\"Добавить в заказы\">\r\n                            <MenuItem\r\n                                onClick={() => {dispatch(add_order(el))\r\n                                handleClick()}}\r\n                                style={{ cursor: 'pointer' }}\r\n                                key={id} >\r\n                                {el.title} <b>{el.price}</b>\r\n                            </MenuItem>\r\n                        </Tooltip>\r\n                    })\r\n                }\r\n            </MenuList>\r\n        </div>\r\n        <div style={styles.basketContainer}>\r\n            <h1>Orders</h1>\r\n            <MenuList>\r\n                {\r\n                    orders.length ? orders.map((el, id) => {\r\n                        return <MenuItem key={id}>\r\n                            <span>{el.title} </span>\r\n                            <b>: {el.price} * {el.count} = {el.sum}</b>\r\n                            <span onClick={() => dispatch(delete_order(el))}>\r\n                                <DeleteIcon />\r\n                            </span>\r\n                        </MenuItem>\r\n                    })\r\n                        : <div>\r\n                            <Skeleton />\r\n                            <Skeleton animation={false} />\r\n                            <Skeleton animation=\"wave\" />\r\n                        </div>\r\n                }\r\n            </MenuList>\r\n        </div>\r\n        <Snackbar open={open} autoHideDuration={6000}>\r\n            <Alert severity=\"success\">\r\n                Заказ успешно добавлен!\r\n        </Alert>\r\n        </Snackbar>\r\n    </div>\r\n}\r\n\r\nconst styles = {\r\n    orderContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n    menuContainer: {\r\n        width: '50%',\r\n    },\r\n    basketContainer: {\r\n        width: '50%'\r\n    }\r\n}","import './App.css';\nimport {OrdersBasket} from './components/OrdersBasket'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <OrdersBasket/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ADD_ORDER, DELETE_ORDER } from \"../actions\";\r\n\r\nconst orderLocal = JSON.parse(localStorage.getItem('orders'))\r\nconst defaultState = {\r\n  orders: orderLocal || [],\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n};\r\nexport const rootReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case ADD_ORDER:\r\n      // findIndex\r\n      let is_chosen1 = state.orders.findIndex(\r\n        (item) => item.title === action.payload.title\r\n      );\r\n      if (is_chosen1 !== -1) {\r\n        //стордун orders ключтун копиясын жасайбыз\r\n        let arr1 = [...state.orders];\r\n        // orders тен is_chosen индекс менен бизге керектуу элементтти таап count деген ключун перезапись кылабыз\r\n        arr1[is_chosen1].count = arr1[is_chosen1].count + 1;\r\n        arr1[is_chosen1].sum = arr1[is_chosen1].sum + action.payload.price;\r\n        return {\r\n          ...state,\r\n          orders: arr1,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          orders: [\r\n            ...state.orders,\r\n            {\r\n              title: action.payload.title,\r\n              price: action.payload.price,\r\n              count: 1,\r\n              sum: action.payload.price\r\n            },\r\n          ],\r\n        };\r\n      }\r\n      case DELETE_ORDER:\r\n      let is_chosen = state.orders.findIndex(\r\n        (item) => item.title === action.payload.title\r\n      );\r\n      let arr = [...state.orders];\r\n      if (is_chosen !== -1) {\r\n        if(arr[is_chosen].count > 1) {\r\n          arr[is_chosen].count = arr[is_chosen].count - 1;\r\n          arr[is_chosen].sum = arr[is_chosen].sum + action.payload.price;\r\n        return {\r\n          ...state,\r\n          orders: arr,\r\n        };\r\n        } else {\r\n          return {\r\n            ...state,\r\n            orders: arr.filter(el => el.title !== arr[is_chosen].title)\r\n          }\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { rootReducer } from \"./store/reducers\";\nconst store = createStore(rootReducer);\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}